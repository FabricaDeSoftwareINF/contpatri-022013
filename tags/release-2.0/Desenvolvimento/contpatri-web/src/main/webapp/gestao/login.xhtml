<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>ContPatri Web - Login</title>
    </h:head>
    <h:body>
        <h:outputStylesheet library="css" name="estilo.css"/>
        <h:outputStylesheet library="css" name="login.css"/>

        <c:if test="${not empty param.login_incorreto}">
            <h:panelGroup layout="block" style="left: 50%; top: 45%; width: 500px; position: absolute; min-width: 280px;
                          margin: -200px 0 0 -250px; background-color: tomato; border-radius: 5px; padding: 3px;">
                <f:verbatim>
                    Usuário ou senha incorretos
                </f:verbatim>
            </h:panelGroup>
        </c:if>

        <h:panelGroup layout="block" class="container">
            <!-- Título -->
            <h:panelGroup layout="block" class="logo">
                <h1>CONTPATRI</h1>
            </h:panelGroup>

            <!-- Corpo do login -->
            <h:panelGroup layout="block" class="lg-corpo">
                <h:panelGroup layout="block" class="interior">
                    <h:panelGroup layout="block" id="lg-cabecalho">
                        <f:verbatim>
                            <p>Efetue o login</p>
                        </f:verbatim>

                        <h:panelGroup layout="block" class="separator"><hr/></h:panelGroup>
                    </h:panelGroup>

                    <h:panelGroup layout="block" class="login">
                        <form action="./j_spring_security_check" method="post">
                            <fieldset>
                                <ul>
                                    <li id="campo-usuario">
                                        <!-- Login utilizando Sprin Security (ainda não implementado) -->
                                        <p:inputText id="j_username"
                                                     styleClass="input required"
                                                     size="26"  
                                                     style="width: 460px"
                                                     required="true" value="${SPRING_SECURITY_LAST_EXCEPTION.authentication.principal}"/>
                                        <p:watermark for="j_username" value="E-mail"/>
                                        <span id="icone-campo-usuario"></span>
                                    </li>
                                    <li id="campo-senha">
                                        <p:password id="j_password"
                                                    styleClass="input required"
                                                    size="26"  
                                                    style="width: 460px"
                                                    required="true"/>
                                        <p:watermark for="j_password" value="Senha"/>
                                        <span id="icone-campo-senha"></span>
                                    </li>
                                    <li class="checkbox">
                                        <input class="checkbox" name="_spring_security_remember_me" type="checkbox" id="remember-me" value="remember" /> 
                                        <label for="remember-me" class="checkbox-text">Continuar conectado</label>
                                    </li>
                                    <li>
                                        <!-- TODO Tipo 'button' apenas na versão inicial, o correto é submit -->
                                        <input class="entrar" type="submit" value="Entrar"/>
                                    </li>
                                </ul>
                            </fieldset>
                        </form>
                    </h:panelGroup>
                </h:panelGroup>
            </h:panelGroup>
        </h:panelGroup>
    </h:body>
</html>

